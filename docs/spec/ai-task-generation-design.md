# ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¢ã‚¤ãƒ†ãƒ  ã‚¿ã‚¹ã‚¯è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ - è¨­è¨ˆæ›¸

## æ¦‚è¦

ç”ŸæˆAIã‚’æ´»ç”¨ã—ã¦ã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/ã‚¿ã‚¹ã‚¯ç®¡ç†ã®è¦ªè¦ç´ ï¼‰ã‹ã‚‰ã€
ãã®å†…å®¹ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã‚¿ã‚¹ã‚¯å€™è£œã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ã€‚

## 1. è¦ä»¶

### 1.1 å…¥åŠ›æƒ…å ±

| é …ç›® | ã‚½ãƒ¼ã‚¹ | å‚™è€ƒ |
|------|--------|------|
| ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¸ãƒ£ãƒ³ãƒ« | `Workspace.Genre` | ã‚«ãƒ†ã‚´ãƒªãƒ¼æƒ…å ± |
| ã‚¢ã‚¤ãƒ†ãƒ ä»¶å | `WorkspaceItem.Subject` | å¿…é ˆ |
| ã‚¢ã‚¤ãƒ†ãƒ æœ¬æ–‡ | `WorkspaceItem.Body` | Lexical JSON â†’ Markdownå¤‰æ›å¿…è¦ |
| é–‹å§‹æ—¥ | ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®š | ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯å­˜åœ¨ã—ãªã„ |
| å®Œäº†æ—¥ | `WorkspaceItem.DueDate` or ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®š | |
| ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ä¸€è¦§ | `TaskType` ãƒ†ãƒ¼ãƒ–ãƒ« | AIãŒã‚¿ã‚¹ã‚¯ç¨®é¡ã‚’é¸æŠã™ã‚‹ãŸã‚ã®å‚ç…§æƒ…å ± |

### 1.2 ç”ŸæˆAIã«æ±‚ã‚ã‚‹å‡ºåŠ›

- ã‚¿ã‚¹ã‚¯å€™è£œãƒªã‚¹ãƒˆï¼ˆå†…å®¹ã€ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã€æ¨å®šå·¥æ•°ï¼‰
- ä¾å­˜é–¢ä¿‚ï¼ˆå…ˆè¡Œã‚¿ã‚¹ã‚¯ï¼‰
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹åˆ¤å®š
- ä¸¦è¡Œä½œæ¥­å¯èƒ½æ€§

### 1.3 æ‰¿èªãƒ•ãƒ­ãƒ¼

```
[AIç”Ÿæˆ] â†’ [ãƒ‰ãƒ©ãƒ•ãƒˆã‚¿ã‚¹ã‚¯å€™è£œ] â†’ [äººé–“ãŒæ‹…å½“è€…å‰²å½“ãƒ»ç·¨é›†] â†’ [æ­£å¼ã‚¿ã‚¹ã‚¯ä½œæˆ]
```

- å®Ÿéš›ã®ã‚¿ã‚¹ã‚¯ä½œæˆã«ã¯äººé–“ã®æ‰¿èªãŒå¿…è¦
- ä¸è¦ãªã‚¿ã‚¹ã‚¯ã®å‰Šé™¤ã€è¶³ã‚Šãªã„ã‚¿ã‚¹ã‚¯ã®è¿½åŠ ãŒå¯èƒ½
- AIã¨ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå†ç”Ÿæˆãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆ

---

## 2. èª²é¡Œç‚¹ã¨è§£æ±ºç­–

### 2.1 æ‹…å½“è€…ã®æŒ‡å®š

**å•é¡Œ**: `WorkspaceTask.AssignedUserId` ã¯å¿…é ˆã ãŒAIã«ã¯æŒ‡å®šä¸å¯

**è§£æ±ºç­–**: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆæ¨å¥¨ï¼‰

- ã‚¢ã‚¤ãƒ†ãƒ ã® `Assignee` ã¾ãŸã¯ `Owner` ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ‹…å½“è€…ã¨ã—ã¦è¨­å®š
- æ‰¿èªUIä¸Šã§å„ã‚¿ã‚¹ã‚¯ã®æ‹…å½“è€…ã‚’å€‹åˆ¥ã«å¤‰æ›´å¯èƒ½

| æ¡ˆ | èª¬æ˜ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|----|------|----------|------------|
| A. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ‹…å½“è€… | ã‚¢ã‚¤ãƒ†ãƒ ã®Assignee/Ownerã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š | ã‚·ãƒ³ãƒ—ãƒ« | å…¨ã‚¿ã‚¹ã‚¯åŒä¸€æ‹…å½“è€…ã«ãªã‚‹ |
| B. å€™è£œç”»é¢ã§å‰²å½“ | æ‰¿èªUIã§å„ã‚¿ã‚¹ã‚¯ã«æ‹…å½“è€…ã‚’é¸æŠ | æŸ”è»Ÿæ€§é«˜ã„ | UIè¤‡é›‘åŒ– |
| **C. ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰** | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‹å€‹åˆ¥å¤‰æ›´å¯èƒ½ | ãƒãƒ©ãƒ³ã‚¹è‰¯ã„ | **æ¡ç”¨** |

### 2.2 å·¥æ•°è¦‹ç©ã®ç²¾åº¦

**å•é¡Œ**: AIã®å·¥æ•°è¦‹ç©ã¯ä¸æ­£ç¢ºã«ãªã‚ŠãŒã¡

**è§£æ±ºç­–**: AIã®å·¥æ•°è¦‹ç©ã¯**å‚è€ƒæƒ…å ±ã¨ã—ã¦ã®ã¿è¡¨ç¤º**ã—ã€ã‚¿ã‚¹ã‚¯ä½œæˆæ™‚ã«ã¯åˆ©ç”¨ã—ãªã„

- AIã«ã¯ã€Œç›¸å¯¾çš„ãªè¦æ¨¡æ„Ÿã€ï¼ˆS/M/L/XLï¼‰ã‚’å‡ºåŠ›ã•ã›ã‚‹
- è¦æ¨¡æ„Ÿã¯UIä¸Šã§å‚è€ƒæƒ…å ±ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã®ã¿
- å®Ÿéš›ã®å·¥æ•°ï¼ˆ`EstimatedHours`ï¼‰ã¯**äººé–“ãŒæ‰¿èªæ™‚ã«æ‰‹å‹•å…¥åŠ›**ã™ã‚‹
- å·¥æ•°æœªå…¥åŠ›ã§ã‚‚ã‚¿ã‚¹ã‚¯ä½œæˆå¯èƒ½ï¼ˆä»»æ„é …ç›®ï¼‰

```
[AIææ¡ˆ]           [æ‰¿èªUI]
è¦æ¨¡: M (å‚è€ƒ)  â†’  å·¥æ•°: [    ] h  â† äººé–“ãŒå…¥åŠ›
```

> **ç†ç”±**: AIã®å·¥æ•°è¦‹ç©ã¯ç²¾åº¦ãŒä½ãã€ãã®ã¾ã¾åˆ©ç”¨ã™ã‚‹ã¨è¨ˆç”»ã®ä¿¡é ¼æ€§ãŒæãªã‚ã‚Œã‚‹ã€‚
> è¦æ¨¡æ„Ÿã‚’å‚è€ƒã«ã—ã¤ã¤ã€æœ€çµ‚çš„ãªå·¥æ•°åˆ¤æ–­ã¯äººé–“ãŒè¡Œã†ã“ã¨ã§ç²¾åº¦ã‚’æ‹…ä¿ã™ã‚‹ã€‚

### 2.3 é–‹å§‹æ—¥ãŒã‚¢ã‚¤ãƒ†ãƒ ã«å­˜åœ¨ã—ãªã„

**è§£æ±ºç­–**: ã‚¿ã‚¹ã‚¯ç”Ÿæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã™ã‚‹

---

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ

### 3.1 ã‚¿ã‚¹ã‚¯å€™è£œã®ä¸€æ™‚ä¿å­˜

AIã¨ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã®ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ã§å¯¾å¿œã€‚
DBä¿å­˜ã¯æœ€çµ‚æ‰¿èªå¾Œã®ã¿ï¼ˆæ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¦ï¼‰ã€‚

### 3.2 AIå¿œç­”ã®å‹å®šç¾©

```typescript
/** AIãŒç”Ÿæˆã™ã‚‹ã‚¿ã‚¹ã‚¯å€™è£œ */
export interface GeneratedTaskCandidate {
  /** ä¸€æ™‚çš„ãªIDï¼ˆãƒ•ãƒ­ãƒ³ãƒˆç®¡ç†ç”¨ï¼‰ */
  tempId: string;
  /** ã‚¿ã‚¹ã‚¯å†…å®¹ */
  content: string;
  /** ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—IDï¼ˆAIãŒTaskTypeãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é¸æŠï¼‰ */
  suggestedTaskTypeId: number | null;
  /** ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—é¸æŠç†ç”±ï¼ˆAIãŒåˆ¤æ–­æ ¹æ‹ ã‚’èª¬æ˜ï¼‰ */
  taskTypeRationale: string;
  /** è¦æ¨¡æ„Ÿï¼ˆå‚è€ƒæƒ…å ±ã¨ã—ã¦è¡¨ç¤ºã®ã¿ã€ã‚¿ã‚¹ã‚¯ä½œæˆã«ã¯ä½¿ç”¨ã—ãªã„ï¼‰ */
  estimatedSize: 'S' | 'M' | 'L' | 'XL';
  /** å…ˆè¡Œã‚¿ã‚¹ã‚¯ã®ä¸€æ™‚IDï¼ˆä¾å­˜é–¢ä¿‚ï¼‰ */
  predecessorTempIds: string[];
  /** ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ä¸Šã‹ */
  isOnCriticalPath: boolean;
  /** ä¸¦è¡Œä½œæ¥­å¯èƒ½ã‹ */
  canParallelize: boolean;
  /** æ¨å¥¨é–‹å§‹æ—¥ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹ã‹ã‚‰ã®ç›¸å¯¾æ—¥æ•°ï¼‰ */
  suggestedStartDayOffset: number;
  /** æ¨å¥¨æœŸé–“ï¼ˆæ—¥æ•°ï¼‰ */
  suggestedDurationDays: number;
  /** AIã«ã‚ˆã‚‹è£œè¶³èª¬æ˜ */
  rationale: string;
}

/** ã‚¿ã‚¹ã‚¯ç”ŸæˆAIã®å¿œç­” */
export interface TaskGenerationResponse {
  /** ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯å€™è£œ */
  candidates: GeneratedTaskCandidate[];
  /** ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®æ¨å®šæœŸé–“ï¼ˆæ—¥æ•°ï¼‰ */
  totalEstimatedDays: number;
  /** ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®èª¬æ˜ */
  criticalPathDescription: string;
  /** AIã‹ã‚‰ã®ææ¡ˆãƒ»æ³¨æ„äº‹é … */
  suggestions: string[];
}
```

### 3.3 æ‰¿èªå¾Œã®ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```typescript
/** æ‰¿èªæ¸ˆã¿ã‚¿ã‚¹ã‚¯ï¼ˆäººé–“ãŒç·¨é›†ã—ãŸæœ€çµ‚ç‰ˆï¼‰ */
export interface ApprovedTaskRequest {
  content: string;
  taskTypeId: number;
  assignedUserId: number;
  priority?: TaskPriority;
  startDate?: string;
  dueDate: string;
  /** å·¥æ•°ï¼ˆäººé–“ãŒæ‰‹å‹•å…¥åŠ›ã€AIã®æ¨å®šå€¤ã¯ä½¿ç”¨ã—ãªã„ï¼‰ */
  estimatedHours?: number;
  /** åŒä¸€ãƒãƒƒãƒå†…ã§ã®å…ˆè¡Œã‚¿ã‚¹ã‚¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ */
  predecessorIndex?: number;
}

/** ä¸€æ‹¬ã‚¿ã‚¹ã‚¯ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ */
export interface BulkCreateTasksRequest {
  tasks: ApprovedTaskRequest[];
}
```

---

## 4. APIè¨­è¨ˆ

### 4.1 ã‚¿ã‚¹ã‚¯å€™è£œç”Ÿæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```
POST /api/workspaces/{workspaceId}/items/{itemId}/tasks/generate-candidates
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```csharp
public class GenerateTaskCandidatesRequest
{
    /// <summary>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ—¥</summary>
    [Required]
    public DateOnly StartDate { get; set; }

    /// <summary>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†æ—¥ï¼ˆã‚¢ã‚¤ãƒ†ãƒ ã®DueDateã¨ç•°ãªã‚‹å ´åˆï¼‰</summary>
    public DateOnly? EndDate { get; set; }

    /// <summary>è¿½åŠ ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è£œè¶³ï¼‰</summary>
    [MaxLength(2000)]
    public string? AdditionalContext { get; set; }

    /// <summary>å‰å›ã®ç”Ÿæˆçµæœã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰</summary>
    [MaxLength(2000)]
    public string? Feedback { get; set; }

    /// <summary>å‰å›ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯å€™è£œï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰</summary>
    public List<PreviousCandidate>? PreviousCandidates { get; set; }
}

public class PreviousCandidate
{
    public required string Content { get; set; }
    public bool IsAccepted { get; set; }
    public string? RejectionReason { get; set; }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: `TaskGenerationResponse` å‹ï¼ˆä¸Šè¨˜å‚ç…§ï¼‰

### 4.2 ä¸€æ‹¬ã‚¿ã‚¹ã‚¯ä½œæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```
POST /api/workspaces/{workspaceId}/items/{itemId}/tasks/bulk-create
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```csharp
public class BulkCreateTasksRequest
{
    [Required]
    [MinLength(1)]
    public required List<BulkTaskItem> Tasks { get; set; }
}

public class BulkTaskItem
{
    [Required]
    [MaxLength(500)]
    public required string Content { get; set; }

    [Required]
    public int TaskTypeId { get; set; }

    [Required]
    public int AssignedUserId { get; set; }

    public TaskPriority? Priority { get; set; }

    public DateOnly? StartDate { get; set; }

    [Required]
    public DateOnly DueDate { get; set; }

    /// <summary>å·¥æ•°ï¼ˆäººé–“ãŒæ‰‹å‹•å…¥åŠ›ã€AIã®æ¨å®šå€¤ã¯ä½¿ç”¨ã—ãªã„ï¼‰</summary>
    public decimal? EstimatedHours { get; set; }

    /// <summary>åŒä¸€ãƒªã‚¯ã‚¨ã‚¹ãƒˆå†…ã§ã®å…ˆè¡Œã‚¿ã‚¹ã‚¯ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ0å§‹ã¾ã‚Šï¼‰</summary>
    public int? PredecessorIndex { get; set; }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã®ãƒªã‚¹ãƒˆ

---

## 5. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

### 5.1 ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ã‚ãªãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®å°‚é–€å®¶ã§ã™ã€‚
ä¸ãˆã‚‰ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‹ã‚‰ã€å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

## å‡ºåŠ›ãƒ«ãƒ¼ãƒ«
1. å„ã‚¿ã‚¹ã‚¯ã¯å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªå˜ä½ã«åˆ†å‰²ã™ã‚‹
2. ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«ã—ã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã‚’ç‰¹å®šã™ã‚‹
3. ä¸¦è¡Œä½œæ¥­å¯èƒ½ãªã‚¿ã‚¹ã‚¯ã‚’è­˜åˆ¥ã™ã‚‹
4. è¦æ¨¡æ„Ÿï¼ˆS/M/L/XLï¼‰ã‚’ç¾å®Ÿçš„ã«è¦‹ç©ã‚‚ã‚‹
  - S: åŠæ—¥ä»¥å†…ï¼ˆã€œ4æ™‚é–“ï¼‰
  - M: 1æ—¥ç¨‹åº¦ï¼ˆã€œ8æ™‚é–“ï¼‰
  - L: 2-3æ—¥ï¼ˆã€œ24æ™‚é–“ï¼‰
  - XL: 1é€±é–“ç¨‹åº¦ï¼ˆã€œ40æ™‚é–“ï¼‰
5. ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã¯æä¾›ã•ã‚ŒãŸãƒªã‚¹ãƒˆã‹ã‚‰æœ€é©ãªã‚‚ã®ã‚’é¸æŠã™ã‚‹
  - å„ã‚¿ã‚¹ã‚¯ã®æ€§è³ªã«æœ€ã‚‚åˆè‡´ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—IDã‚’æŒ‡å®š
  - è©²å½“ã™ã‚‹ã‚‚ã®ãŒãªã„å ´åˆã¯nullã‚’æŒ‡å®š
  - é¸æŠç†ç”±ã‚’ taskTypeRationale ã«è¨˜è¼‰

## å‡ºåŠ›å½¢å¼
JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
```

### 5.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹æˆ

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ï¼ˆã‚¸ãƒ£ãƒ³ãƒ«ã€ä»¶åã€æœŸé–“ï¼‰
2. è©³ç´°å†…å®¹ï¼ˆæœ¬æ–‡ã®Markdownï¼‰
3. åˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ä¸€è¦§ï¼ˆ`TaskType` ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—ï¼‰
   - IDã€ã‚³ãƒ¼ãƒ‰ã€åç§°ã€èª¬æ˜ã‚’å«ã‚ã‚‹
   - ä¾‹: `ID:1 [design] è¨­è¨ˆ - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ`
4. è¿½åŠ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰
5. å‰å›ã®ç”Ÿæˆçµæœï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ï¼‰
6. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ï¼‰

### 5.3 ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—æƒ…å ±ã®å½¢å¼

AIã«æ¸¡ã™ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—æƒ…å ±ã¯ä»¥ä¸‹ã®å½¢å¼ï¼š

```
## åˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—
ä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã‹ã‚‰å„ã‚¿ã‚¹ã‚¯ã«æœ€é©ãªã‚¿ã‚¤ãƒ—ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚

| ID | ã‚³ãƒ¼ãƒ‰ | åç§° | èª¬æ˜ |
|----|--------|------|------|
| 1 | design | è¨­è¨ˆ | ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ |
| 2 | development | é–‹ç™º | å®Ÿè£…ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä½œæ¥­ |
| 3 | review | ãƒ¬ãƒ“ãƒ¥ãƒ¼ | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| 4 | testing | ãƒ†ã‚¹ãƒˆ | ãƒ†ã‚¹ãƒˆè¨ˆç”»ãƒ»å®Ÿè¡Œãƒ»æ¤œè¨¼ |
| ... | ... | ... | ... |
```

---

## 6. UIãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 6.1 ã‚¿ã‚¹ã‚¯ç”Ÿæˆãƒ¢ãƒ¼ãƒ€ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¿ã‚¹ã‚¯è‡ªå‹•ç”Ÿæˆ                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â–  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæœŸé–“                                          â”‚
â”‚  é–‹å§‹æ—¥: [2026-02-01] ã€œ å®Œäº†æ—¥: [2026-03-31]               â”‚
â”‚                                                             â”‚
â”‚  â–  è¿½åŠ æƒ…å ±ï¼ˆä»»æ„ï¼‰                                          â”‚
â”‚  [                                        ]                 â”‚
â”‚                                                             â”‚
â”‚  [ğŸ¤– ã‚¿ã‚¹ã‚¯ã‚’ç”Ÿæˆ]                                           â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–  ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯å€™è£œ                                      â”‚
â”‚                                                             â”‚
â”‚  â˜‘ [è¦ä»¶å®šç¾©æ›¸ä½œæˆ]        æ‹…å½“: [â–¼ é¸æŠ] å·¥æ•°: [  ]h  M   ğŸ”´CP  â”‚
â”‚  â˜‘ [DBè¨­è¨ˆ]               æ‹…å½“: [â–¼ é¸æŠ] å·¥æ•°: [  ]h  L   ğŸ”´CP  â”‚
â”‚  â˜‘ [APIè¨­è¨ˆ]              æ‹…å½“: [â–¼ é¸æŠ] å·¥æ•°: [  ]h  M   â•â•â•   â”‚
â”‚  â˜ [ç”»é¢ãƒ¢ãƒƒã‚¯ä½œæˆ]        æ‹…å½“: [â–¼ é¸æŠ] å·¥æ•°: [  ]h  S   â•â•â•   â”‚
â”‚  â˜‘ [å®Ÿè£…: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼]    æ‹…å½“: [â–¼ é¸æŠ] å·¥æ•°: [  ]h  L   ğŸ”´CP  â”‚
â”‚                                                             â”‚
â”‚  â–  ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆä¿®æ­£ä¾é ¼ï¼‰                                â”‚
â”‚  [ãƒ†ã‚¹ãƒˆã‚¿ã‚¹ã‚¯ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„                ]             â”‚
â”‚                                                             â”‚
â”‚  [ğŸ”„ å†ç”Ÿæˆ]  [âœ“ é¸æŠã—ãŸã‚¿ã‚¹ã‚¯ã‚’ä½œæˆ]                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”´CP = ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹
â•â•â• = ä¸¦è¡Œä½œæ¥­å¯èƒ½
S/M/L/XL = AIæ¨å®šã®è¦æ¨¡æ„Ÿï¼ˆå‚è€ƒæƒ…å ±ï¼‰
```

### 6.2 UIè¦ç´ 

| è¦ç´  | èª¬æ˜ |
|------|------|
| æœŸé–“å…¥åŠ› | é–‹å§‹æ—¥ãƒ»å®Œäº†æ—¥ã®DatePicker |
| è¿½åŠ æƒ…å ± | ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ï¼ˆä»»æ„ï¼‰ |
| ç”Ÿæˆãƒœã‚¿ãƒ³ | AIç”Ÿæˆã‚’å®Ÿè¡Œ |
| ã‚¿ã‚¹ã‚¯å€™è£œãƒªã‚¹ãƒˆ | ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ä»˜ããƒªã‚¹ãƒˆ |
| æ‹…å½“è€…é¸æŠ | ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ |
| è¦æ¨¡æ„Ÿè¡¨ç¤º | AIãŒæ¨å®šã—ãŸè¦æ¨¡æ„Ÿï¼ˆS/M/L/XLï¼‰ã‚’å‚è€ƒæƒ…å ±ã¨ã—ã¦è¡¨ç¤º |
| å·¥æ•°å…¥åŠ› | æ•°å€¤å…¥åŠ›ï¼ˆäººé–“ãŒæ‰‹å‹•å…¥åŠ›ã€AIã®æ¨å®šå€¤ã¯ä½¿ç”¨ã—ãªã„ï¼‰ |
| ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ | ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰ |
| å†ç”Ÿæˆãƒœã‚¿ãƒ³ | ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å«ã‚ã¦å†ç”Ÿæˆ |
| ä½œæˆãƒœã‚¿ãƒ³ | é¸æŠã—ãŸã‚¿ã‚¹ã‚¯ã‚’ä¸€æ‹¬ä½œæˆ |

---

## 7. å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

| Phase | å†…å®¹ | è¦‹ç© |
|-------|------|------|
| 1 | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£… | 0.5æ—¥ |
| 2 | `TaskGenerationService` å®Ÿè£… | 1æ—¥ |
| 3 | API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ï¼ˆå€™è£œç”Ÿæˆï¼‰ | 0.5æ—¥ |
| 4 | API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ï¼ˆä¸€æ‹¬ä½œæˆï¼‰ | 0.5æ—¥ |
| 5 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ Server Action | 0.5æ—¥ |
| 6 | ã‚¿ã‚¹ã‚¯ç”Ÿæˆãƒ¢ãƒ¼ãƒ€ãƒ«UI | 2æ—¥ |
| 7 | ãƒ†ã‚¹ãƒˆãƒ»èª¿æ•´ | 0.5æ—¥ |
| **è¨ˆ** | | **5.5æ—¥** |

---

## 8. å®Ÿè£…æ§‹æˆ

### 8.1 ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

```
pecus.WebApi/
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ TaskContentSuggestionService.cs  â† æ—¢å­˜ï¼ˆå˜ä¸€ã‚¿ã‚¹ã‚¯å†…å®¹ææ¡ˆï¼‰
â”‚   â””â”€â”€ TaskGenerationService.cs         â† æ–°è¦ï¼ˆè¤‡æ•°ã‚¿ã‚¹ã‚¯å€™è£œç”Ÿæˆï¼‰
â”œâ”€â”€ Requests/
â”‚   â”œâ”€â”€ GenerateTaskCandidatesRequest.cs â† æ–°è¦
â”‚   â””â”€â”€ BulkCreateTasksRequest.cs        â† æ–°è¦
â”œâ”€â”€ Responses/
â”‚   â””â”€â”€ TaskGenerationResponse.cs        â† æ–°è¦
â””â”€â”€ Controllers/
    â””â”€â”€ WorkspaceTaskController.cs       â† ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 

pecus.Libs/
â””â”€â”€ AI/
    â””â”€â”€ Prompts/
        â””â”€â”€ Tasks/
            â”œâ”€â”€ TaskContentSuggestionPromptTemplate.cs  â† æ—¢å­˜
            â””â”€â”€ TaskGenerationPromptTemplate.cs         â† æ–°è¦

pecus.Frontend/
â””â”€â”€ src/
    â”œâ”€â”€ actions/
    â”‚   â””â”€â”€ workspaceTaskActions.ts      â† Server Actionè¿½åŠ 
    â”œâ”€â”€ types/
    â”‚   â””â”€â”€ taskGeneration.ts            â† å‹å®šç¾©
    â””â”€â”€ app/(workspace-full)/workspaces/[code]/
        â””â”€â”€ GenerateTasksModal.tsx       â† æ–°è¦ãƒ¢ãƒ¼ãƒ€ãƒ«
```

### 8.2 é…ç½®æ–¹é‡

| é…ç½®å…ˆ | å†…å®¹ | ç†ç”± |
|--------|------|------|
| `pecus.WebApi/Services/` | `TaskGenerationService` | æ—¢å­˜ã® `TaskContentSuggestionService` ã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚DBä¾å­˜ãŒå¼·ã„ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| `pecus.Libs/AI/Prompts/` | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | å°†æ¥ BackFire ç­‰ã‹ã‚‰ã‚‚å†åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ |
| `pecus.Frontend/src/actions/` | Server Action | APIå‘¼ã³å‡ºã—ã®æŠ½è±¡åŒ– |

> **æ³¨**: `pecus.Libs/AI/Tools/Implementations/` ã¯ MCP ãƒ„ãƒ¼ãƒ«ï¼ˆå¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æºç”¨ï¼‰ã®ãŸã‚ã€æœ¬æ©Ÿèƒ½ã«ã¯ä½¿ç”¨ã—ãªã„ã€‚

---

## 9. ä¾å­˜é–¢ä¿‚ãƒ»å‰ææ¡ä»¶

### 9.1 å¿…è¦ãªæ—¢å­˜æ©Ÿèƒ½

- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ¡ãƒ³ãƒãƒ¼å–å¾—APIï¼ˆæ‹…å½“è€…é¸æŠç”¨ï¼‰
- ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—å–å¾—APIï¼ˆAIæ¨å®šç”¨ï¼‰
- Lexicalâ†’Markdownå¤‰æ›ï¼ˆæ—¢å­˜ã® `LexicalConverter` ã‚’ä½¿ç”¨ï¼‰
- AI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ•ã‚¡ã‚¯ãƒˆãƒªï¼ˆæ—¢å­˜ã® `AiClientFactory` ã‚’ä½¿ç”¨ï¼‰

### 9.2 è€ƒæ…®äº‹é …

- **ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™**: æœ¬æ–‡ãŒé•·ã„å ´åˆã¯è¦ç´„å‡¦ç†ãŒå¿…è¦
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: AI APIå‘¼ã³å‡ºã—ã®åˆ¶é™ã‚’è€ƒæ…®
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: AIç”Ÿæˆå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

---

## 10. å°†æ¥ã®æ‹¡å¼µ

1. **çµ„ç¹”è¨­å®šã§ã®è¦æ¨¡â†’å·¥æ•°ãƒãƒƒãƒ”ãƒ³ã‚°**: çµ„ç¹”ã”ã¨ã«S/M/L/XLã®å·¥æ•°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šå¯èƒ½ã«ï¼ˆå‚è€ƒå€¤ã¨ã—ã¦å…¥åŠ›æ¬„ã«ãƒ—ãƒªã‚»ãƒƒãƒˆï¼‰
2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½**: ã‚ˆãä½¿ã†ã‚¿ã‚¹ã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–
3. **å­¦ç¿’æ©Ÿèƒ½**: éå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é¡ä¼¼ã‚¿ã‚¹ã‚¯ã‚’ææ¡ˆ
4. **ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆé€£æº**: ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã§å¯è¦–åŒ–
