# AI チャット機能 アイデアメモ

作成日: 2026-01-23

## 背景

小規模チーム（5人程度）では「誰が何に詳しいか」は全員把握しているため、スキル検索機能は刺さりにくい。
Bot が本当に役立つ場面を再考する。

---

## アイデア候補

### 1. 「覚えてる」系

過去の会話やコメントから情報を検索して回答する。

```
User: 「前に〇〇の設定どうしたっけ？」
Bot: 過去のチャットやコメントから検索して回答
```

**必要なもの:**
- チャット履歴の検索機能
- コメント履歴の検索機能
- 検索結果を要約する AI 処理

---

### 2. 「まとめて」系

期間内の活動をサマリーとして生成する。

```
User: 「今週何やったっけ？」
Bot: 完了タスク + コミット + チャット履歴からサマリー生成
```

**必要なもの:**
- 完了タスクの集計
- チャット履歴の要約
- （オプション）Git コミット履歴連携

---

### 3. 「通知の代わり」系

自分に関係ある更新をまとめて報告する。

```
User: 「最近何かあった？」
Bot: 自分に関係ある更新（メンション、タスク変更、コメント）をまとめて報告
```

**必要なもの:**
- 未読通知の集約
- メンションの検出
- タスク変更履歴の取得

---

### 4. 「ドキュメント検索」系

Wiki や README から情報を検索する。

```
User: 「〇〇の仕様どこだっけ？」
Bot: Wiki や README から検索
```

**必要なもの:**
- ドキュメント検索インデックス
- 検索結果を要約する AI 処理

---

## 実装優先度（未定）

| 優先度 | アイデア | 理由 |
|-------|---------|------|
| ? | 「覚えてる」系 | |
| ? | 「まとめて」系 | |
| ? | 「通知の代わり」系 | |
| ? | 「ドキュメント検索」系 | |

---

## 検討済み・見送り

### スキル検索機能

- 小規模チームでは不要（全員が誰が何に詳しいか把握している）
- 20人以上の組織、新人、リモートチームでは有用かも
- `UserSkill` テーブルは既存だが、登録は利用者任せ


「調べるのめんどい」あるある
Excel・スプレッドシートの関数 「A列とB列を比較して、重複してないやつだけ抽出するのってどの関数だっけ…？」という、わかれば一瞬だけど検索ワードに迷うやつ。

ビジネス敬語の言い換え 「『了解しました』より丁寧だけど、『承知いたしました』だとちょっと硬すぎる時のちょうどいいフレーズって何？」という、正解のない悩み。

メールの構成・たたき台 「お詫びしつつ、でもこちらの非ではないことも遠回しに伝えたい」といった、文脈が複雑で構成を考えるのが億劫なとき。

ツールのちょっとした操作方法 「Zoomの録画設定どこだっけ？」「パワポの図形を等間隔に並べるショートカットは？」といった、10秒で済むけど探し回るのが面倒な操作。


1. TryGetContextAsync でツール実行を試みる
   ↓
2. minRelevanceScore (50) を超えるツールがない場合
   → context = null
   ↓
3. context == null の場合
   → 「通常モード: 会話履歴を使用」に分岐
   → BuildConversationMessagesAsync で過去の会話履歴を取得
   → ランダムなロールで AI が返信

ただし改善の余地
現状だと Bot は「秘書ロール」などで返答するので：

「一般知識の質問」と判定したら、ロールを変える（例: 先生ロール、アシスタントロール）という改善はあり得ます。
