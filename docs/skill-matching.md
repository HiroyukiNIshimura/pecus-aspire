# ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°æ©Ÿèƒ½ä»•æ§˜æ›¸

## æ¦‚è¦

ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°æ©Ÿèƒ½ã¯ã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¿…è¦ãªã‚¹ã‚­ãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒã¤ã‚¹ã‚­ãƒ«ã‚’æ¯”è¼ƒã—ã€é©åˆ‡ãªãƒ¡ãƒ³ãƒãƒ¼ã‚’ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹ãŸã‚ã®æ”¯æ´æ©Ÿèƒ½ã§ã™ã€‚

## æ©Ÿèƒ½æ¦‚è¦

### ç›®çš„

- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¿…è¦ãªã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆã‚’å®šç¾©ã—ã€ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ æ™‚ã«å€™è£œè€…ã®ã‚¹ã‚­ãƒ«é©åˆåº¦ã‚’å¯è¦–åŒ–ã™ã‚‹
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ãªäººæã‚’ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹ãŸã‚ã®æ„æ€æ±ºå®šã‚’æ”¯æ´ã™ã‚‹
- ã‚¹ã‚­ãƒ«ã‚®ãƒ£ãƒƒãƒ—ï¼ˆä¸è¶³ã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ«ï¼‰ã‚’æ˜ç¢ºåŒ–ã™ã‚‹

### ä¸»ãªæ©Ÿèƒ½

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ«è¡¨ç¤º**: æ¤œç´¢çµæœä¸€è¦§ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¹ã‚­ãƒ«ã‚’ãƒãƒƒã‚¸è¡¨ç¤º
2. **ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°è¨ˆç®—**: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å¿…é ˆã‚¹ã‚­ãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ«ã®é©åˆåº¦ã‚’è¨ˆç®—
3. **ãƒãƒƒãƒãƒ³ã‚°çµæœã®å¯è¦–åŒ–**: ãƒãƒƒãƒç‡ã€ãƒãƒƒãƒã—ãŸã‚¹ã‚­ãƒ«ã€ä¸è¶³ã‚¹ã‚­ãƒ«ã€è¿½åŠ ã‚¹ã‚­ãƒ«ã‚’è¡¨ç¤º

---

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### ã‚¹ã‚­ãƒ«æƒ…å ±

```typescript
interface SkillItem {
  id: number;    // ã‚¹ã‚­ãƒ«IDï¼ˆä¸€æ„è­˜åˆ¥å­ï¼‰
  name: string;  // ã‚¹ã‚­ãƒ«åï¼ˆä¾‹: "TypeScript", "React"ï¼‰
}
```

### ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°çµæœ

```typescript
interface SkillMatchResult {
  /** ãƒãƒƒãƒç‡ï¼ˆ0-100%ï¼‰ */
  matchPercentage: number;

  /** ãƒãƒƒãƒã—ãŸã‚¹ã‚­ãƒ«: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãŒå¿…è¦ã¨ã—ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚‚æŒã£ã¦ã„ã‚‹ã‚¹ã‚­ãƒ« */
  matchedSkills: SkillItem[];

  /** ä¸è¶³ã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ«: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãŒå¿…è¦ã¨ã—ã¦ã„ã‚‹ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒã£ã¦ã„ãªã„ã‚¹ã‚­ãƒ« */
  missingSkills: SkillItem[];

  /** è¿½åŠ ã‚¹ã‚­ãƒ«: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒã£ã¦ã„ã‚‹ãŒã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§ã¯å¿…é ˆã§ã¯ãªã„ã‚¹ã‚­ãƒ« */
  extraSkills: SkillItem[];
}
```

---

## ãƒãƒƒãƒãƒ³ã‚°è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

### ãƒãƒƒãƒç‡ã®è¨ˆç®—å¼

```
ãƒãƒƒãƒç‡ = (ãƒãƒƒãƒã—ãŸã‚¹ã‚­ãƒ«æ•° / ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å¿…é ˆã‚¹ã‚­ãƒ«æ•°) Ã— 100
```

### ç‰¹æ®Šã‚±ãƒ¼ã‚¹

| ã‚±ãƒ¼ã‚¹ | ãƒãƒƒãƒç‡ |
|--------|----------|
| ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¿…é ˆã‚¹ã‚­ãƒ«ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ | 100% |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ã‚­ãƒ«ã‚’æŒã£ã¦ã„ãªã„ | 0% |
| å®Œå…¨ä¸€è‡´ | 100% |

### è¨ˆç®—ä¾‹

**ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å¿…é ˆã‚¹ã‚­ãƒ«**: TypeScript, React, Node.js, PostgreSQL, Dockerï¼ˆ5å€‹ï¼‰

**ãƒ¦ãƒ¼ã‚¶ãƒ¼A ã®ã‚¹ã‚­ãƒ«**: TypeScript, React, Vue.js, Pythonï¼ˆ4å€‹ï¼‰

| åˆ†é¡ | ã‚¹ã‚­ãƒ« | ä»¶æ•° |
|------|--------|------|
| ãƒãƒƒãƒã—ãŸã‚¹ã‚­ãƒ« | TypeScript, React | 2 |
| ä¸è¶³ã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ« | Node.js, PostgreSQL, Docker | 3 |
| è¿½åŠ ã‚¹ã‚­ãƒ« | Vue.js, Python | 2 |

**ãƒãƒƒãƒç‡**: 2 / 5 Ã— 100 = **40%**

---

## UI ä»•æ§˜

### 1. æ¤œç´¢çµæœä¸€è¦§ã§ã®ã‚¹ã‚­ãƒ«è¡¨ç¤º

ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢çµæœã®å„è¡Œã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒã¤ã‚¹ã‚­ãƒ«ã‚’ãƒãƒƒã‚¸ã§è¡¨ç¤ºã—ã¾ã™ã€‚

**è¡¨ç¤ºãƒ«ãƒ¼ãƒ«**:
- æœ€å¤§5ä»¶ã¾ã§è¡¨ç¤º
- 6ä»¶ä»¥ä¸Šã®å ´åˆã¯ `+N` ã§æ®‹ã‚Šä»¶æ•°ã‚’è¡¨ç¤º
- ãƒãƒƒã‚¸ã‚¹ã‚¿ã‚¤ãƒ«: `badge-accent badge-xs`

**ä¾‹**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ å±±ç”°å¤ªéƒ                              â”‚
â”‚    yamada@example.com                   â”‚
â”‚    [TypeScript] [React] [Node.js] +2    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°è©³ç´°è¡¨ç¤ºï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠå¾Œï¼‰

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’é¸æŠã™ã‚‹ã¨ã€ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°ã®è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

#### ãƒãƒƒãƒç‡è¡¨ç¤º

| ãƒãƒƒãƒç‡ | è‰² | æ„å‘³ |
|----------|-----|------|
| 80%ä»¥ä¸Š | ğŸŸ¢ ç·‘ï¼ˆsuccessï¼‰ | é«˜ã„ãƒãƒƒãƒåº¦ |
| 50%ã€œ79% | ğŸŸ¡ é»„ï¼ˆwarningï¼‰ | ä¸­ç¨‹åº¦ã®ãƒãƒƒãƒåº¦ |
| 50%æœªæº€ | ğŸ”´ èµ¤ï¼ˆerrorï¼‰ | ä½ã„ãƒãƒƒãƒåº¦ |

#### è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°                    40% â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚
â”‚                                         â”‚
â”‚ âœ“ ãƒãƒƒãƒã—ãŸã‚¹ã‚­ãƒ« (2)                  â”‚
â”‚   [TypeScript] [React]                  â”‚
â”‚                                         â”‚
â”‚ âœ— ä¸è¶³ã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ« (3)                â”‚
â”‚   [Node.js] [PostgreSQL] [Docker]       â”‚
â”‚                                         â”‚
â”‚ ãã®ä»–ã®ã‚¹ã‚­ãƒ« (2)                      â”‚
â”‚   [Vue.js] [Python]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å¿…é ˆã‚¹ã‚­ãƒ«æœªè¨­å®šæ™‚ã®è¡¨ç¤º

ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¿…é ˆã‚¹ã‚­ãƒ«ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«ã¯å¿…è¦ã‚¹ã‚­ãƒ«ãŒ      â”‚
â”‚ è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“                      â”‚
â”‚                                         â”‚
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¹ã‚­ãƒ«                        â”‚
â”‚ [TypeScript] [React] [Vue.js] [Python]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

### AddMemberModal

**ãƒ•ã‚¡ã‚¤ãƒ«**: `pecus.Frontend/src/components/workspaces/AddMemberModal.tsx`

#### Props

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|------------|-----|------|------------|------|
| `isOpen` | `boolean` | âœ“ | - | ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤ºçŠ¶æ…‹ |
| `existingMembers` | `WorkspaceUserItem[]` | âœ“ | - | æ—¢å­˜ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ï¼ˆé‡è¤‡é˜²æ­¢ç”¨ï¼‰ |
| `onClose` | `() => void` | âœ“ | - | ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| `onConfirm` | `(userId, userName, email, role, iconUrl) => Promise<void>` | âœ“ | - | ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ ç¢ºå®šæ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| `showSkillMatching` | `boolean` | - | `false` | ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°ã‚’è¡¨ç¤ºã™ã‚‹ã‹ |
| `requiredSkills` | `SkillItem[]` | - | `[]` | ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§å¿…è¦ãªã‚¹ã‚­ãƒ«ä¸€è¦§ |

#### ä½¿ç”¨ä¾‹

```tsx
<AddMemberModal
  isOpen={isModalOpen}
  existingMembers={workspaceMembers}
  onClose={() => setIsModalOpen(false)}
  onConfirm={handleAddMember}
  showSkillMatching={true}
  requiredSkills={[
    { id: 1, name: 'TypeScript' },
    { id: 2, name: 'React' },
    { id: 3, name: 'Node.js' },
  ]}
/>
```

---

## API ä»•æ§˜

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ API

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/users/search`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: `UserSearchResultResponse[]`

```typescript
interface UserSearchResultResponse {
  id: number;
  username: string | null;
  email: string | null;
  avatarType: AvatarType;
  identityIconUrl: string | null;
  skills: UserSearchSkillResponse[] | null;  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¹ã‚­ãƒ«ä¸€è¦§
}

interface UserSearchSkillResponse {
  id: number;
  name: string;
}
```

### ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¹ã‚­ãƒ« API

ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¿…è¦ãªã‚¹ã‚­ãƒ«ã¯ã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è©³ç´° API ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/workspaces/{code}`

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® `skills` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®å¿…é ˆã‚¹ã‚­ãƒ«ä¸€è¦§ãŒå«ã¾ã‚Œã¾ã™ã€‚

---

## é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ«ï¼ˆUserSkillsï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| `UserId` | int | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| `SkillId` | int | ã‚¹ã‚­ãƒ«ID |
| `AddedAt` | datetime | è¿½åŠ æ—¥æ™‚ |
| `AddedByUserId` | int | è¿½åŠ ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ID |

### ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¹ã‚­ãƒ«ï¼ˆWorkspaceSkillsï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| `WorkspaceId` | int | ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ID |
| `SkillId` | int | ã‚¹ã‚­ãƒ«ID |
| `AddedAt` | datetime | è¿½åŠ æ—¥æ™‚ |
| `AddedByUserId` | int | è¿½åŠ ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ID |

### ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ï¼ˆSkillsï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| `Id` | int | ã‚¹ã‚­ãƒ«ID |
| `Name` | string | ã‚¹ã‚­ãƒ«å |
| `Description` | string | ã‚¹ã‚­ãƒ«èª¬æ˜ |
| `OrganizationId` | int | çµ„ç¹”ID |
| `IsActive` | bool | æœ‰åŠ¹ãƒ•ãƒ©ã‚° |

---

## ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

### Phase 2: ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«å¯¾å¿œ

ã‚¹ã‚­ãƒ«ã«ç¿’ç†Ÿåº¦ãƒ¬ãƒ™ãƒ«ï¼ˆåˆç´š/ä¸­ç´š/ä¸Šç´šï¼‰ã‚’è¿½åŠ ã—ã€ã‚ˆã‚Šç²¾å¯†ãªãƒãƒƒãƒãƒ³ã‚°ã‚’å®Ÿç¾ã€‚

```typescript
interface SkillWithLevel {
  id: number;
  name: string;
  level: 'beginner' | 'intermediate' | 'advanced';
}
```

### Phase 3: ã‚¹ã‚­ãƒ«æ¨è–¦

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚åŠ å±¥æ­´ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’è‡ªå‹•æ¨è–¦
- é¡ä¼¼ã‚¹ã‚­ãƒ«ã®ã‚µã‚¸ã‚§ã‚¹ãƒˆï¼ˆä¾‹: React â†’ Vue.jsï¼‰

### Phase 4: ãƒãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹åˆ†æ

- ãƒãƒ¼ãƒ å…¨ä½“ã®ã‚¹ã‚­ãƒ«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å¯è¦–åŒ–
- ã‚¹ã‚­ãƒ«ã‚®ãƒ£ãƒƒãƒ—ã®ã‚ã‚‹ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ

---

## å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«

- `pecus.Frontend/src/components/workspaces/AddMemberModal.tsx` - ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°UIå®Ÿè£…
- `pecus.Frontend/src/actions/admin/user.ts` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ Server Action
- `pecus.WebApi/Controllers/UserController.cs` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ API
- `pecus.Libs/DB/Models/Skill.cs` - ã‚¹ã‚­ãƒ«ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `pecus.Libs/DB/Models/UserSkill.cs` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ«ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«
- `pecus.Libs/DB/Models/WorkspaceSkill.cs` - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¹ã‚­ãƒ«ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«
