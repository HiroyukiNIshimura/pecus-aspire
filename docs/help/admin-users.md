# 管理画面「ユーザー管理」利用ガイド（エンドユーザー向け）

## この画面でできること
- パス: 管理者メニュー → ユーザー管理。
- ユーザー一覧の閲覧、検索、フィルター、ページ切り替えができます。
- ユーザーの詳細編集画面への遷移や削除実行が行えます。
- スキル別・ロール別・ステータス別・ワークスペース参加状況のサマリーを確認できます。

## 画面構成

### 1. ヘッダー/サイドバー
- 共通の管理ヘッダーとサイドバーでナビゲーションを切り替えます。

### 2. アクションエリア
- **新規ユーザー作成**: 新規登録画面へ移動します（遷移先: ○○○○）。

### 3. フィルター
- 開閉式のフィルターセクションで条件を指定できます。開くと以下を設定可能です。
  - **ユーザー名**: 前方一致検索。最大100文字まで入力可能（Zod: `usernameFilterSchema`）。
  - **ステータス**: `アクティブのみ / 非アクティブのみ / すべて` を切り替え可能。初期値はアクティブのみ。
  - **スキル**: 複数選択可。選択済みはバッジで表示され、✕で個別解除できます。
    - **スキル保有条件**: `すべてのスキルを保有`（AND）または `いずれかのスキルを保有`（OR）を選択。
  - **リセット**: フィルター条件を初期状態（ユーザー名空、ステータス=アクティブ、スキル未選択、モード=AND）に戻します。
  - **検索**: 現在の条件で一覧を再取得します。

### 4. ユーザー一覧
- テーブル列: ユーザー名 / メールアドレス / スキル / ステータス / 作成日 / 操作。
- スキルは最大4件を表示し、5件目以降は `...` で省略表示します。
- ステータスは `アクティブ` / `非アクティブ` をバッジ表示します。
- 操作列のボタン:
  - **編集**: 該当ユーザーの編集画面へ移動します（遷移先: `/admin/users/edit/<ユーザーID>`）。
  - **削除**: 確認モーダルを開き、承認後に削除します。

### 5. ページネーション
- 1ページごとの件数に応じてページ切り替えができます。現在ページと総ページ数を表示します。

### 6. サマリー
- 条件に応じた集計をカードで表示します。
  - **スキル別**: 件数の多い順に上位5件を表示。6件目以降は「(その他)」に合算。
  - **ロール別**: ロールごとのユーザー数を表示。
  - **ステータス**: アクティブ/非アクティブの件数を表示。
  - **ワークスペース参加状況**: 参加者 / 非参加者の件数を表示。

## 操作手順
1) 必要に応じてフィルターを開き、条件を設定します。
2) **検索**を押して一覧を更新します。
3) 目的のユーザー行で **編集** または **削除** を選択します。
4) 件数が多い場合はページネーションで他ページを確認します。

## バリデーション/入力ルール
- **ユーザー名**: 最大100文字。100文字を超えるとエラー表示（`検索名は100文字以内で入力してください。`）。

## 注意事項
- 不明点や表示内容が決まっていない箇所は ○○○○ のままです。
