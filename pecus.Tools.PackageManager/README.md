# Pecus.Tools.PackageManager

NuGet ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†ã—ã€æ›´æ–°å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å¯è¦–åŒ–ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## æ¦‚è¦

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ `dotnet-outdated-tool` ã‚’ãƒ©ãƒƒãƒ—ã—ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

- âœ… ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
- ğŸ“Š ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã®æ§‹ç¯‰
- ğŸ¯ å®‰å…¨ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç‰¹å®š
- ğŸ“ˆ æ›´æ–°é‡è¦åº¦ï¼ˆPatch/Minor/Majorï¼‰ã®åˆ¤å®š
- ğŸ” å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¯è¦–åŒ–

## å‰ææ¡ä»¶

### dotnet-outdated-tool ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
dotnet tool install --global dotnet-outdated-tool
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèªï¼š

```bash
dotnet outdated --version
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ãƒ“ãƒ«ãƒ‰
dotnet build pecus.Tools.PackageManager/pecus.Tools.PackageManager.csproj

# å®Ÿè¡Œ
dotnet run --project pecus.Tools.PackageManager -- check
```

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆä»»æ„ï¼‰

```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
dotnet pack pecus.Tools.PackageManager/pecus.Tools.PackageManager.csproj

# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
dotnet tool install --global --add-source ./pecus.Tools.PackageManager/nupkg Pecus.Tools.PackageManager

# å®Ÿè¡Œ
pecus-pkg check
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒã‚§ãƒƒã‚¯

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆPatch ãƒ¬ãƒ™ãƒ«ã®æ›´æ–°ã®ã¿è¡¨ç¤ºï¼‰
dotnet run --project pecus.Tools.PackageManager -- check

# ã™ã¹ã¦ã®æ›´æ–°å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¡¨ç¤º
dotnet run --project pecus.Tools.PackageManager -- check --all

# ç‰¹å®šã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š
dotnet run --project pecus.Tools.PackageManager -- check --solution path/to/solution.sln
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ | ä¾‹ |
|---|---|---|
| `--solution` | ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚çœç•¥æ™‚ã¯ `pecus.sln` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ | `--solution path/to/solution.sln` |
| `--all` | Patch ä»¥å¤–ï¼ˆMinor/Majorï¼‰ã‚‚å«ã‚ã¦å…¨ã¦è¡¨ç¤ºã—ã¾ã™ã€‚ | `--all` |

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°

```bash
# è‡ªå‹•æ›´æ–°ï¼ˆæ—¢å®š: autoï¼‰
dotnet run --project pecus.Tools.PackageManager -- update

# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ›´æ–°ï¼ˆå¯¾è©±å¼ï¼‰
dotnet run --project pecus.Tools.PackageManager -- update --mode prompt

# ç‰¹å®šã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š
dotnet run --project pecus.Tools.PackageManager -- update --solution path/to/solution.sln
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ | ä¾‹ |
|---|---|---|
| `--solution` | ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚çœç•¥æ™‚ã¯ `pecus.sln` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ | `--solution path/to/solution.sln` |
| `--mode` | æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ã€‚`auto`ï¼ˆè‡ªå‹•ï¼‰ã¾ãŸã¯ `prompt`ï¼ˆå¯¾è©±å¼ï¼‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚ | `--mode prompt` |
| `--include-auto-references` | è‡ªå‹•å‚ç…§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å«ã‚ã¾ã™ï¼ˆæ—¢å®š: trueï¼‰ã€‚ | `--include-auto-references false` |

### å‡ºåŠ›ä¾‹

```
âœ“ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¹ã‚­ãƒ£ãƒ³ä¸­...
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸                 â”‚  ç¾åœ¨   â”‚  æœ€æ–°   â”‚ é‡è¦åº¦ â”‚    å½±éŸ¿ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Microsoft.EntityFrameworkCore        â”‚ 10.0.0  â”‚ 10.0.1  â”‚ Patch  â”‚ pecus.Libs, pecus.WebApiâ”‚
â”‚ Spectre.Console                      â”‚ 0.49.0  â”‚ 0.49.1  â”‚ Patch  â”‚ pecus.Tools.PackageManagerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åˆè¨ˆ: 2 å€‹ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ›´æ–°å¯èƒ½
  Patch: 2  Minor: 0  Major: 0
```

## æ›´æ–°é‡è¦åº¦ã®åˆ¤å®šåŸºæº–

| é‡è¦åº¦ | èª¬æ˜ | è¡¨ç¤ºè‰² | æ¨å¥¨ |
|-------|------|-------|------|
| **Patch** | ãƒã‚°ä¿®æ­£ã®ã¿ï¼ˆx.x.Xï¼‰ | ğŸŸ¢ Green | è‡ªå‹•æ›´æ–°æ¨å¥¨ |
| **Minor** | å¾Œæ–¹äº’æ›æ€§ã‚ã‚Šæ©Ÿèƒ½è¿½åŠ ï¼ˆx.X.xï¼‰ | ğŸŸ¡ Yellow | ãƒ†ã‚¹ãƒˆå¾Œæ›´æ–° |
| **Major** | ç ´å£Šçš„å¤‰æ›´ï¼ˆX.x.xï¼‰ | ğŸ”´ Red | æ…é‡ã«æ¤œè¨ |

## é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
pecus.Tools.PackageManager/
â”œâ”€â”€ Commands/
â”‚   â””â”€â”€ CheckCommand.cs       # CLI ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ DotnetOutdatedService.cs  # dotnet-outdated ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â””â”€â”€ PackageAnalyzer.cs        # ä¾å­˜é–¢ä¿‚åˆ†æ
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ PackageModels.cs      # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ Program.cs                # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ pecus.Tools.PackageManager.csproj
```

### ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- [ ] `update` ã‚³ãƒãƒ³ãƒ‰: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è‡ªå‹•æ›´æ–°
- [ ] `analyze` ã‚³ãƒãƒ³ãƒ‰: ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã®è¦–è¦šåŒ–
- [ ] `report` ã‚³ãƒãƒ³ãƒ‰: Markdown/HTML ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- [ ] CI/CD çµ±åˆ: GitHub Actions ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: dotnet-outdated tool is not installed

```bash
dotnet tool install --global dotnet-outdated-tool
```

### ã‚¨ãƒ©ãƒ¼: ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“

ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ãã ã•ã„ï¼š

```bash
dotnet run --project pecus.Tools.PackageManager -- check --solution /path/to/pecus.sln
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Pecus Aspire ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨åŒã˜ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã„ã¾ã™ã€‚
