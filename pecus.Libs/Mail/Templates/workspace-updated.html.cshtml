@model Pecus.Libs.Mail.Templates.Models.WorkspaceUpdatedEmailModel
@{
    Layout = "_Layout.html.cshtml";
}

<h2>ワークスペースが更新されました</h2>

<p>@Model.WorkspaceName が更新されました。</p>

<div class="info">
    <strong>変更内容</strong>
    @if (Model.Changes.Any())
    {
        <ul style="margin:8px 0 0 0; padding-left:20px;">
            @foreach (var change in Model.Changes)
            {
                <li>@change</li>
            }
        </ul>
    }
</div>

@if (!string.IsNullOrWhiteSpace(Model.OldWorkspaceName) && !string.IsNullOrWhiteSpace(Model.NewWorkspaceName))
{
    <p><strong>名前:</strong> @Model.OldWorkspaceName → @Model.NewWorkspaceName</p>
}

@if (!string.IsNullOrWhiteSpace(Model.OldCategoryName) || !string.IsNullOrWhiteSpace(Model.NewCategoryName))
{
    <p><strong>カテゴリ:</strong> @(Model.OldCategoryName ?? "(なし)") → @(Model.NewCategoryName ?? "(なし)")</p>
}

@if (!string.IsNullOrWhiteSpace(Model.OldDescription) || !string.IsNullOrWhiteSpace(Model.NewDescription))
{
    <p><strong>説明:</strong></p>
    <div style="background-color:#ffebee; padding:10px; margin:5px 0;">
        <p style="margin:0; white-space:pre-wrap; text-decoration:line-through; color:#666;">@(Model.OldDescription ?? "(なし)")</p>
    </div>
    <div style="background-color:#e8f5e9; padding:10px; margin:5px 0;">
        <p style="margin:0; white-space:pre-wrap;">@(Model.NewDescription ?? "(なし)")</p>
    </div>
}

<ul>
    <li>ワークスペースコード: @Model.WorkspaceCode</li>
    <li>更新者: @Model.UpdatedByName</li>
    <li>更新日時 (JST): @Model.UpdatedAt.ToString("yyyy/MM/dd HH:mm")</li>
    <li>組織: @Model.OrganizationName</li>
</ul>

<div style="text-align:center; margin:20px 0;">
    <a href="@Model.WorkspaceUrl" class="button">ワークスペースを表示</a>
</div>

<p class="muted">このメールに心当たりがない場合は、管理者またはサポートまでご連絡ください。</p>
